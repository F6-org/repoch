{"version":3,"sources":["../../src/format/json-to-query.js"],"names":["obj","sep","eq","name","undefined","Object","keys","map","k","ks","encodeURIComponent","stringifyPrimitive","Array","isArray","v","join","isFinite"],"mappings":"AAAA;AACA;;;;;;;;kBAkBe,UAASA,GAAT,EAAcC,GAAd,EAAmBC,EAAnB,EAAuBC,IAAvB,EAA6B;AACxCF,UAAMA,OAAO,GAAb;AACAC,SAAKA,MAAM,GAAX;;AAEA,QAAIF,QAAQ,IAAZ,EAAkB;AACdA,cAAMI,SAAN;AACH;;AAED,QAAI,QAAOJ,GAAP,yCAAOA,GAAP,OAAe,QAAnB,EAA6B;AACzB,eAAOK,OAAOC,IAAP,CAAYN,GAAZ,EAAiBO,GAAjB,CAAqB,UAASC,CAAT,EAAY;AACpC,gBAAIC,KAAKC,mBAAmBC,mBAAmBH,CAAnB,CAAnB,IAA4CN,EAArD;AACA,gBAAIU,MAAMC,OAAN,CAAcb,IAAIQ,CAAJ,CAAd,CAAJ,EAA2B;AACvB,uBAAOR,IAAIQ,CAAJ,EAAOD,GAAP,CAAW,UAASO,CAAT,EAAY;AAC1B,2BAAOL,KAAKC,mBAAmBC,mBAAmBG,CAAnB,CAAnB,CAAZ;AACH,iBAFM,EAEJC,IAFI,CAECd,GAFD,CAAP;AAGH,aAJD,MAIO;AACH,uBAAOQ,KAAKC,mBAAmBC,mBAAmBX,IAAIQ,CAAJ,CAAnB,CAAnB,CAAZ;AACH;AACJ,SATM,EASJO,IATI,CASCd,GATD,CAAP;AAUH;;AAED,QAAI,CAACE,IAAL,EAAW,OAAO,EAAP;AACX,WAAOO,mBAAmBC,mBAAmBR,IAAnB,CAAnB,IAA+CD,EAA/C,GACFQ,mBAAmBC,mBAAmBX,GAAnB,CAAnB,CADL;AAEH,C;;AAxCD,IAAIW,qBAAqB,SAArBA,kBAAqB,CAASG,CAAT,EAAY;AACjC,mBAAeA,CAAf,yCAAeA,CAAf;AACI,aAAK,QAAL;AACI,mBAAOA,CAAP;;AAEJ,aAAK,SAAL;AACI,mBAAOA,IAAI,MAAJ,GAAa,OAApB;;AAEJ,aAAK,QAAL;AACI,mBAAOE,SAASF,CAAT,IAAcA,CAAd,GAAkB,EAAzB;;AAEJ;AACI,mBAAO,EAAP;AAXR;AAaH,CAdD;;AAwCC","file":"json-to-query.js","sourcesContent":["/* global module: false */\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n    switch (typeof v) {\n        case 'string':\n            return v;\n\n        case 'boolean':\n            return v ? 'true' : 'false';\n\n        case 'number':\n            return isFinite(v) ? v : '';\n\n        default:\n            return '';\n    }\n};\n\nexport default function(obj, sep, eq, name) {\n    sep = sep || '&';\n    eq = eq || '=';\n    \n    if (obj === null) {\n        obj = undefined;\n    }\n\n    if (typeof obj === 'object') {\n        return Object.keys(obj).map(function(k) {\n            var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n            if (Array.isArray(obj[k])) {\n                return obj[k].map(function(v) {\n                    return ks + encodeURIComponent(stringifyPrimitive(v));\n                }).join(sep);\n            } else {\n                return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n            }\n        }).join(sep);\n    }\n\n    if (!name) return '';\n    return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n"]}