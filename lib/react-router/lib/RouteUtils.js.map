{"version":3,"sources":["../../../src/react-router/lib/RouteUtils.js"],"names":["isReactChildren","createRouteFromReactElement","createRoutesFromReactChildren","createRoutes","isValidChild","object","React","isValidElement","Array","isArray","every","createRoute","defaultProps","props","element","type","route","children","childRoutes","length","parentRoute","routes","Children","forEach","push"],"mappings":";;;;;;;;QAMgBA,e,GAAAA,e;QAQAC,2B,GAAAA,2B;QAiCAC,6B,GAAAA,6B;QAwBAC,Y,GAAAA,Y;;AAvEhB;;;;;;AAEA,SAASC,YAAT,CAAsBC,MAAtB,EAA8B;AAC5B,SAAOA,UAAU,IAAV,IAAkBC,gBAAMC,cAAN,CAAqBF,MAArB,CAAzB;AACD;;AAEM,SAASL,eAAT,CAAyBK,MAAzB,EAAiC;AACtC,SAAOD,aAAaC,MAAb,KAAyBG,MAAMC,OAAN,CAAcJ,MAAd,KAAyBA,OAAOK,KAAP,CAAaN,YAAb,CAAzD;AACD;;AAED,SAASO,WAAT,CAAqBC,YAArB,EAAmCC,KAAnC,EAA0C;AACxC,sBAAYD,YAAZ,EAA6BC,KAA7B;AACD;;AAEM,SAASZ,2BAAT,CAAqCa,OAArC,EAA8C;AACnD,MAAMC,OAAOD,QAAQC,IAArB;AACA,MAAMC,QAAQL,YAAYI,KAAKH,YAAjB,EAA+BE,QAAQD,KAAvC,CAAd;;AAEA,MAAIG,MAAMC,QAAV,EAAoB;AAClB,QAAMC,cAAchB,8BAA8Bc,MAAMC,QAApC,EAA8CD,KAA9C,CAApB;;AAEA,QAAIE,YAAYC,MAAhB,EACEH,MAAME,WAAN,GAAoBA,WAApB;;AAEF,WAAOF,MAAMC,QAAb;AACD;;AAED,SAAOD,KAAP;AACD;;AAED;;;;;;;;;;;;;;;;;AAiBO,SAASd,6BAAT,CAAuCe,QAAvC,EAAiDG,WAAjD,EAA8D;AACnE,MAAMC,SAAS,EAAf;;AAEAf,kBAAMgB,QAAN,CAAeC,OAAf,CAAuBN,QAAvB,EAAiC,UAAUH,OAAV,EAAmB;AAClD,QAAIR,gBAAMC,cAAN,CAAqBO,OAArB,CAAJ,EAAmC;AACjC;AACA,UAAIA,QAAQC,IAAR,CAAad,2BAAjB,EAA8C;AAC5C,YAAMe,QAAQF,QAAQC,IAAR,CAAad,2BAAb,CAAyCa,OAAzC,EAAkDM,WAAlD,CAAd;;AAEA,YAAIJ,KAAJ,EACEK,OAAOG,IAAP,CAAYR,KAAZ;AACH,OALD,MAKO;AACLK,eAAOG,IAAP,CAAYvB,4BAA4Ba,OAA5B,CAAZ;AACD;AACF;AACF,GAZD;;AAcA,SAAOO,MAAP;AACD;;AAED;;;;AAIO,SAASlB,YAAT,CAAsBkB,MAAtB,EAA8B;AACnC,MAAIrB,gBAAgBqB,MAAhB,CAAJ,EAA6B;AAC3BA,aAASnB,8BAA8BmB,MAA9B,CAAT;AACD,GAFD,MAEO,IAAIA,UAAU,CAACb,MAAMC,OAAN,CAAcY,MAAd,CAAf,EAAsC;AAC3CA,aAAS,CAAEA,MAAF,CAAT;AACD;;AAED,SAAOA,MAAP;AACD","file":"RouteUtils.js","sourcesContent":["import React from 'react'\n\nfunction isValidChild(object) {\n  return object == null || React.isValidElement(object)\n}\n\nexport function isReactChildren(object) {\n  return isValidChild(object) || (Array.isArray(object) && object.every(isValidChild))\n}\n\nfunction createRoute(defaultProps, props) {\n  return { ...defaultProps, ...props }\n}\n\nexport function createRouteFromReactElement(element) {\n  const type = element.type\n  const route = createRoute(type.defaultProps, element.props)\n\n  if (route.children) {\n    const childRoutes = createRoutesFromReactChildren(route.children, route)\n\n    if (childRoutes.length)\n      route.childRoutes = childRoutes\n\n    delete route.children\n  }\n\n  return route\n}\n\n/**\n * Creates and returns a routes object from the given ReactChildren. JSX\n * provides a convenient way to visualize how routes in the hierarchy are\n * nested.\n *\n *   import { Route, createRoutesFromReactChildren } from 'react-router'\n *\n *   const routes = createRoutesFromReactChildren(\n *     <Route component={App}>\n *       <Route path=\"home\" component={Dashboard}/>\n *       <Route path=\"news\" component={NewsFeed}/>\n *     </Route>\n *   )\n *\n * Note: This method is automatically used when you provide <Route> children\n * to a <Router> component.\n */\nexport function createRoutesFromReactChildren(children, parentRoute) {\n  const routes = []\n\n  React.Children.forEach(children, function (element) {\n    if (React.isValidElement(element)) {\n      // Component classes may have a static create* method.\n      if (element.type.createRouteFromReactElement) {\n        const route = element.type.createRouteFromReactElement(element, parentRoute)\n\n        if (route)\n          routes.push(route)\n      } else {\n        routes.push(createRouteFromReactElement(element))\n      }\n    }\n  })\n\n  return routes\n}\n\n/**\n * Creates and returns an array of routes from the given object which\n * may be a JSX route, a plain object route, or an array of either.\n */\nexport function createRoutes(routes) {\n  if (isReactChildren(routes)) {\n    routes = createRoutesFromReactChildren(routes)\n  } else if (routes && !Array.isArray(routes)) {\n    routes = [ routes ]\n  }\n\n  return routes\n}\n"]}