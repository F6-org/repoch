{"version":3,"sources":["../../../src/react-router/lib/applyRouterMiddleware.js"],"names":["middlewares","__DEV__","forEach","middleware","index","renderRouterContext","renderRouteComponent","withContext","map","filter","Boolean","withComponent","makeCreateElement","baseCreateElement","createElement","Component","props","reduceRight","previous","renderProps"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;kBAEe,YAAoB;AAAA,oCAAhBA,WAAgB;AAAhBA,eAAgB;AAAA;;AACjC,MAAIC,OAAJ,EAAa;AACXD,gBAAYE,OAAZ,CAAoB,UAACC,UAAD,EAAaC,KAAb,EAAuB;AACzC,mCACED,WAAWE,mBAAX,IAAkCF,WAAWG,oBAD/C,EAEE,uCAAqCF,KAArC,+BACA,kCAHF;AAKD,KAND;AAOD;;AAED,MAAMG,cAAcP,YACjBQ,GADiB,CACb;AAAA,WAAcL,WAAWE,mBAAzB;AAAA,GADa,EAEjBI,MAFiB,CAEVC,OAFU,CAApB;AAGA,MAAMC,gBAAgBX,YACnBQ,GADmB,CACf;AAAA,WAAcL,WAAWG,oBAAzB;AAAA,GADe,EAEnBG,MAFmB,CAEZC,OAFY,CAAtB;;AAIA,MAAME,oBAAoB,SAApBA,iBAAoB;AAAA,QAACC,iBAAD,uEAAqBC,oBAArB;AAAA,WACxB,UAACC,SAAD,EAAYC,KAAZ;AAAA,aACEL,cAAcM,WAAd,CACE,UAACC,QAAD,EAAWZ,oBAAX;AAAA,eACEA,qBAAqBY,QAArB,EAA+BF,KAA/B,CADF;AAAA,OADF,EAGKH,kBAAkBE,SAAlB,EAA6BC,KAA7B,CAHL,CADF;AAAA,KADwB;AAAA,GAA1B;;AAUA,SAAO,UAACG,WAAD;AAAA,WACLZ,YAAYU,WAAZ,CACE,UAACC,QAAD,EAAWb,mBAAX;AAAA,aACEA,oBAAoBa,QAApB,EAA8BC,WAA9B,CADF;AAAA,KADF,EAII,8BAAC,uBAAD,eACMA,WADN;AAEE,qBAAeP,kBAAkBO,YAAYL,aAA9B;AAFjB,OAJJ,CADK;AAAA,GAAP;AAYD,C","file":"applyRouterMiddleware.js","sourcesContent":["import React, { createElement } from 'react'\nimport RouterContext from './RouterContext'\nimport warning from './routerWarning'\n\nexport default (...middlewares) => {\n  if (__DEV__) {\n    middlewares.forEach((middleware, index) => {\n      warning(\n        middleware.renderRouterContext || middleware.renderRouteComponent,\n        `The middleware specified at index ${index} does not appear to be ` +\n        'a valid React Router middleware.'\n      )\n    })\n  }\n\n  const withContext = middlewares\n    .map(middleware => middleware.renderRouterContext)\n    .filter(Boolean)\n  const withComponent = middlewares\n    .map(middleware => middleware.renderRouteComponent)\n    .filter(Boolean)\n\n  const makeCreateElement = (baseCreateElement = createElement) => (\n    (Component, props) => (\n      withComponent.reduceRight(\n        (previous, renderRouteComponent) => (\n          renderRouteComponent(previous, props)\n        ), baseCreateElement(Component, props)\n      )\n    )\n  )\n\n  return (renderProps) => (\n    withContext.reduceRight(\n      (previous, renderRouterContext) => (\n        renderRouterContext(previous, renderProps)\n      ), (\n        <RouterContext\n          {...renderProps}\n          createElement={makeCreateElement(renderProps.createElement)}\n        />\n      )\n    )\n  )\n}\n\n"]}