{"version":3,"sources":["../../../src/dom-helper/raf/index.js"],"names":["raf","cancelRaf","process","env","BROWSER","vendors","af","x","length","window","requestAnimationFrame","vendor","lastTime","currTime","Date","now","getTime","timeToCall","Math","max","id","setTimeout","callback","clearTimeout","RAF","cancelRAF"],"mappings":";;;;;AAAA,IAAIA,YAAJ;AAAA,IAASC,kBAAT;AACA,IAAIC,QAAQC,GAAR,CAAYC,OAAhB,EAAyB;AACrB,QAAMC,UAAU,CAAC,IAAD,EAAO,KAAP,EAAc,QAAd,EAAwB,GAAxB,CAAhB;AACA,QAAMC,KAAK,gBAAX;AACA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,QAAQG,MAAZ,IAAsB,CAACC,OAAOC,qBAA9C,EAAqE,EAAEH,CAAvE,EAA0E;AACtE,YAAMI,SAASN,QAAQE,CAAR,CAAf;AACAP,cAAMS,OAAUE,MAAV,eAA0BL,EAA1B,CAAN;AACAL,oBAAYQ,OAAUE,MAAV,cAAyBL,EAAzB,KACRG,OAAUE,MAAV,qBAAgCL,EAAhC,CADJ;AAEH;AACJ;;AAED,IAAI,CAACN,GAAL,EAAU;AACN,QAAIY,WAAW,CAAf;AACAZ,UAAM,uBAAY;AACd,YAAMa,WAAWC,KAAKC,GAAL,GAAWD,KAAKC,GAAL,EAAX,GAAwB,IAAID,IAAJ,GAAWE,OAAX,EAAzC;AACA,YAAMC,aAAaC,KAAKC,GAAL,CAAS,CAAT,EAAY,MAAMN,WAAWD,QAAjB,CAAZ,CAAnB;AACA,YAAMQ,KAAKX,OAAOY,UAAP,CAAkB;AAAA,mBAAMC,SAAST,WAAWI,UAApB,CAAN;AAAA,SAAlB,EAAyDA,UAAzD,CAAX;;AAEAL,mBAAWC,WAAWI,UAAtB;AACA,eAAOG,EAAP;AACH,KAPD;AAQH;;AAED,IAAI,CAACnB,SAAL,EAAgB;AACZA,gBAAY;AAAA,eAAMsB,aAAaH,EAAb,CAAN;AAAA,KAAZ;AACH;;AAEM,IAAMI,oBAAMxB,GAAZ;AACA,IAAMyB,gCAAYxB,SAAlB","file":"index.js","sourcesContent":["let raf, cancelRaf;\nif (process.env.BROWSER) {\n    const vendors = ['ms', 'moz', 'webkit', 'o'];\n    const af = 'AnimationFrame';\n    for (let x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        const vendor = vendors[x];\n        raf = window[`${vendor}Request${af}`];\n        cancelRaf = window[`${vendor}Cancel${af}`] || \n            window[`${vendor}CancelRequest${af}`];\n    }\n}\n\nif (!raf) {\n    let lastTime = 0;\n    raf = callback => {\n        const currTime = Date.now ? Date.now() : new Date().getTime();\n        const timeToCall = Math.max(0, 16 - (currTime - lastTime));\n        const id = window.setTimeout(() => callback(currTime + timeToCall), timeToCall);\n\n        lastTime = currTime + timeToCall;\n        return id;\n    }\n}\n\nif (!cancelRaf) {\n    cancelRaf = id => clearTimeout(id);\n}\n\nexport const RAF = raf;\nexport const cancelRAF = cancelRaf;\n\n"]}