{"version":3,"sources":["../../../src/dom-helper/dom/get-size.js"],"names":["dom","ret","parentNode","hideContainer","appendChild","getSize","removeChild","size","offsetWidth","offsetHeight","style","display","visibility"],"mappings":";;;;;;kBA0Ce,UAASA,GAAT,EAAa;AACxB,QAAIC,MAAM,EAAV;AACA,QAAG,CAACD,IAAIE,UAAR,EAAmB;AACfC,gCAAcC,WAAd,CAA0BJ,GAA1B;AACAC,cAAMI,QAAQL,GAAR,CAAN;AACAG,gCAAcG,WAAd,CAA0BN,GAA1B;AACH,KAJD,MAIK;AACDC,cAAMI,QAAQL,GAAR,CAAN;AACH;AACD,WAAOC,GAAP;AACH,C;;AAvCD;;;;AACA;;;;;;AAdA;;;;;;;;;;;;;AAgBA,IAAIM,OAAO,SAAPA,IAAO,CAASP,GAAT,EAAa;AACpB,QAAG,CAAC,sBAAOA,GAAP,CAAJ,EAAgB;AACZ,cAAM,kDAAN;AACH;AACD,WAAO;AACH,iBAAUA,IAAIQ,WADX;AAEH,kBAAWR,IAAIS;AAFZ,KAAP;AAIH,CARD;AASA;;;AAGA,IAAIJ,UAAU,SAAVA,OAAU,CAASL,GAAT,EAAa;AACvB,QAAIC,MAAM,IAAV;AACA,QAAID,IAAIU,KAAJ,CAAUC,OAAV,KAAsB,MAA1B,EAAkC;AAC9BX,YAAIU,KAAJ,CAAUE,UAAV,GAAuB,QAAvB;AACAZ,YAAIU,KAAJ,CAAUC,OAAV,GAAoB,EAApB;AACAV,cAAMM,KAAKP,GAAL,CAAN;AACAA,YAAIU,KAAJ,CAAUC,OAAV,GAAoB,MAApB;AACAX,YAAIU,KAAJ,CAAUE,UAAV,GAAuB,SAAvB;AACH,KAND,MAMM;AACFX,cAAMM,KAAKP,GAAL,CAAN;AACH;AACD,WAAOC,GAAP;AACH,CAZD;;AAwBC","file":"get-size.js","sourcesContent":["/**\n * 获取dom的宽高\n * @id STK.core.dom.getSize\n * @params {Element} dom 被计算的dom节点\n * @return {Object} \n *         {\n *             'width' : 0\n *             'height' : 0\n *         }\n * @author Robin Young | yonglin@staff.sina.com.cn\n * @example \n * STK.core.dom.getSize(STK.E('layer'));\n */\nimport hideContainer from '../util/hide-container';\nimport isNode from './is-node';\n\nvar size = function(dom){\n    if(!isNode(dom)){\n        throw 'core.dom.getSize need Element as first parameter';\n    }\n    return {\n        'width' : dom.offsetWidth,\n        'height' : dom.offsetHeight\n    };\n};\n/*\n    为隐藏元素\n*/\nvar getSize = function(dom){\n    var ret = null;\n    if (dom.style.display === 'none') {\n        dom.style.visibility = 'hidden';\n        dom.style.display = '';\n        ret = size(dom);\n        dom.style.display = 'none';\n        dom.style.visibility = 'visible';\n    }else {\n        ret = size(dom);\n    }\n    return ret;\n};\n\nexport default function(dom){\n    var ret = {};\n    if(!dom.parentNode){\n        hideContainer.appendChild(dom);\n        ret = getSize(dom);\n        hideContainer.removeChild(dom);\n    }else{\n        ret = getSize(dom);\n    }\n    return ret;\n};\n"]}