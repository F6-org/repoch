{"version":3,"sources":["../../../src/dom-helper/dom/position.js"],"names":["oElement","conf","document","body","parentNode","style","display","getBoundingClientRect","parent","o","generalPosition","p","l","t","countPosition","getRotate","el","box","scroll","docElem","clientTop","clientLeft","dd","documentElement","db","top","Math","max","window","pageYOffset","scrollTop","left","pageXOffset","scrollLeft","ownerDocument","parseInt","shell","pos","offsetLeft","offsetTop","offsetParent","test","tagName","search","st","getComputedStyle","tr","getPropertyValue","NaN","values","split","a","b","c","d","radians","atan2","PI","round"],"mappings":"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","file":"position.js","sourcesContent":["var generalPosition = function(el){\n    var box, scroll, body, docElem, clientTop, clientLeft;\n    box = el.getBoundingClientRect();\n    var dd = document.documentElement;\n    var db = document.body;\n    scroll = {\n        top: Math.max(window.pageYOffset || 0, dd.scrollTop, db.scrollTop),\n        left: Math.max(window.pageXOffset || 0, dd.scrollLeft, db.scrollLeft)\n    };\n    body = el.ownerDocument.body;\n    docElem = el.ownerDocument.documentElement;\n    clientTop = docElem.clientTop || body.clientTop || 0;\n    clientLeft = docElem.clientLeft || body.clientLeft || 0;\n    return {\n        l: parseInt(box.left + scroll['left']- clientLeft, 10) || 0,\n        t: parseInt(box.top + scroll['top'] - clientTop, 10) || 0\n    };\n};\n\nvar countPosition = function(el, shell){\n    var pos,parent;\n    pos = [el.offsetLeft, el.offsetTop];\n    parent = el.offsetParent;\n    if (parent !== el && parent !== shell) {\n        while (parent) {\n            pos[0] += parent.offsetLeft;\n            pos[1] += parent.offsetTop;\n            parent = parent.offsetParent;\n        }\n    }\n    \n    if (el.parentNode) {\n        parent = el.parentNode;\n    }\n    else {\n        parent = null;\n    }\n    while (parent && !/^body|html$/i.test(parent.tagName) && parent !== shell) { // account for any scrolled ancestors\n        if (parent.style.display.search(/^inline|table-row.*$/i)) {\n            pos[0] -= parent.scrollLeft;\n            pos[1] -= parent.scrollTop;\n        }\n        parent = parent.parentNode;\n    }\n    return {\n        l: parseInt(pos[0], 10),\n        t: parseInt(pos[1], 10)\n    };\n};\n\nexport default function(oElement, conf = {}) {\n    if (oElement == document.body) {\n        return false;\n    }\n    if (oElement.parentNode == null) {\n        return false;\n    }\n    if (oElement.style.display == 'none') {\n        return false;\n    }\n\n    if (oElement.getBoundingClientRect) {// IE6+  FF3+ chrome9+ safari5+ opera11+\n        if (conf.parent) {\n            var o = generalPosition(oElement);\n            var p = generalPosition(conf.parent);\n            return {\n                'l' : o.l - p.l,\n                't' : o.t - p.t\n            };\n        } else {\n            return generalPosition(oElement);\n        }\n    } else { //old browser\n        return countPosition(oElement, conf.parent || document.body);\n    }\n};\n\nexport function getRotate(el) {\n    if (el == document.body) {\n        return false;\n    }\n    if (el.parentNode == null) {\n        return false;\n    }\n    if (el.style.display == 'none') {\n        return false;\n    }\n\n    var st = window.getComputedStyle(el, null);\n    var tr = st.getPropertyValue(\"-webkit-transform\") ||\n             st.getPropertyValue(\"-moz-transform\") ||\n             st.getPropertyValue(\"-ms-transform\") ||\n             st.getPropertyValue(\"-o-transform\") ||\n             st.getPropertyValue(\"transform\") ||\n             false;\n\n    if (tr === false) return NaN;\n\n    var values = tr.split('(')[1].split(')')[0].split(',');\n    var a = values[0];\n    var b = values[1];\n    var c = values[2];\n    var d = values[3];\n\n    var radians = Math.atan2(b, a);\n\n    if ( radians < 0 ) {\n      radians += (2 * Math.PI);\n    }\n\n    return Math.round(radians * (180/Math.PI));\n};\n\n"]}